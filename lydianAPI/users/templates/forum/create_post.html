{% extends './index.html' %}
{% block home_content %}
<div class="auth-container">
    <div class="card auth-card">
        <h3 class="card-header">
            Create a Post
        </h3>
        <div class="card-body">
            <form method="post" enctype="multipart/form-data"> <!-- Add enctype for file upload -->
                {% csrf_token %}
                <label>Title:</label>
                <input type="text" name="title" required><br>
                <label>Description:</label>
                <textarea name="description" required></textarea><br>
                <label>Image:</label>
                <input type="file" name="image"><br>
                <label for="color">Color:</label>
                <select id="color" name="color">
                    <option value="beige">Beige</option>
                    <option value="red">Red</option>
                    <option value="blue">Blue</option>
                    <option value="yellow">Yellow</option>
                    <option value="green">Green</option>
                    <option value="orange">Orange</option>
                    <option value="purple">Purple</option>
                    <option value="red-orange">Red-Orange</option>
                    <option value="yellow-orange">Yellow-Orange</option>
                    <option value="yellow-green">Yellow-Green</option>
                    <option value="blue-green">Blue-Green</option>
                    <option value="blue-purple">Blue-Purple</option>
                    <option value="red-purple">Red-Purple</option>
                    <option value="black">Black</option>
                    <option value="white">White</option>
                    <option value="gray">Gray</option>
                    <option value="brown">Brown</option>
                    <option value="pink">Pink</option>
                    <option value="cyan">Cyan</option>
                    <option value="magenta">Magenta</option>
                    <option value="beige">Beige</option>
                    <option value="teal">Teal</option>
                    <option value="lavender">Lavender</option>
                    <option value="maroon">Maroon</option>
                    <option value="navy">Navy</option>
                    <option value="olive">Olive</option>
                    <option value="gold">Gold</option>
                    <option value="silver">Silver</option>
                    <option value="other">Other</option>
                </select><br>
                <label for="shape">Shape:</label>
                <select id="shape" name="shape">
                    <option value="circle">Circle</option>
                    <option value="square">Square</option>
                    <option value="rectangle">Rectangle</option>
                    <option value="triangle">Triangle</option>
                    <option value="oval">Oval</option>
                    <option value="pentagon">Pentagon</option>
                    <option value="hexagon">Hexagon</option>
                    <option value="heptagon">Heptagon</option>
                    <option value="octagon">Octagon</option>
                    <option value="nonagon">Nonagon</option>
                    <option value="decagon">Decagon</option>
                    <option value="cube">Cube</option>
                    <option value="cuboid">Cuboid</option>
                    <option value="sphere">Sphere</option>
                    <option value="cylinder">Cylinder</option>
                    <option value="cone">Cone</option>
                    <option value="pyramid">Pyramid</option>
                    <option value="prism">Prism</option>
                    <option value="torus">Torus</option>
                    <option value="star">Star</option>
                    <option value="heart">Heart</option>
                    <option value="diamond">Diamond</option>
                    <option value="parallelogram">Parallelogram</option>
                    <option value="trapezoid">Trapezoid</option>
                    <option value="rhombus">Rhombus</option>
                    <option value="crescent">Crescent</option>
                    <option value="arrow">Arrow</option>
                    <option value="other">Other</option>
                </select><br>

                <label for="material">Material:</label>
                <select id="material" name="material">
                    <option value="wood">Wood</option>
                    <option value="metal">Metal</option>
                    <option value="plastic">Plastic</option>
                    <option value="glass">Glass</option>
                    <option value="stone">Stone</option>
                    <option value="ceramic">Ceramic</option>
                    <option value="fabric">Fabric</option>
                    <option value="leather">Leather</option>
                    <option value="rubber">Rubber</option>
                    <option value="paper">Paper</option>
                    <option value="cardboard">Cardboard</option>
                    <option value="concrete">Concrete</option>
                    <option value="brick">Brick</option>
                    <option value="foam">Foam</option>
                    <option value="carbon-fiber">Carbon-Fiber</option>
                    <option value="kevlar">Kevlar</option>
                    <option value="silicone">Silicone</option>
                    <option value="clay">Clay</option>
                    <option value="wax">Wax</option>
                    <option value="gold">Gold</option>
                    <option value="silver">Silver</option>
                    <option value="copper">Copper</option>
                    <option value="aluminum">Aluminum</option>
                    <option value="iron">Iron</option>
                    <option value="steel">Steel</option>
                    <option value="bronze">Bronze</option>
                    <option value="brass">Brass</option>
                    <option value="other">Other</option>
                </select><br>

                <label for="weight">Weight:</label>
                <select id="weight" name="weight">
                    <option value="0-2.5kg">0-2.5kg</option>
                    <option value="2.5-5kg">2.5-5kg</option>
                    <option value="5-10kg">5-10kg</option>
                    <option value="other">Other</option>
                </select><br>
                <label for="location">Location:</label>
                <select id="location" name="location">
                    <option value="europe">Europe</option>
                    <option value="asia">Asia</option>
                    <option value="north america">North America</option>
                    <option value="south america">South America</option>
                    <option value="africa">Africa</option>
                    <option value="australia">Australia</option>
                    <option value="antarctica">Antarctica</option>
                    <option value="other">Other</option>
                </select><br>

                <label for="hardness">Hardness:</label>
                <select id="hardness" name="hardness">
                    <option value="soft">Soft</option>
                    <option value="medium-soft">Medium-Soft</option>
                    <option value="medium">Medium</option>
                    <option value="medium-hard">Medium-Hard</option>
                    <option value="hard">Hard</option>
                    <option value="very-hard">Very-Hard</option>
                    <option value="rigid">Rigid</option>
                    <option value="other">Other</option>
                </select><br>
                
                <label for="time_period">Time Period:</label>
                <select id="time_period" name="time_period">
                    <option value="stone age">stone age</option>
                    <option value="iron age">iron age</option>
                    <option value="classical era">classical era</option>
                    <option value="medieval era">medieval era</option>
                    <option value="early modern era">early modern era</option>
                    <option value="modern era">modern era</option>
                    <option value="prehistoric">Prehistoric</option>
                    <option value="bronze-age">Bronze Age</option>
                    <option value="middle-ages">Middle Ages</option>
                    <option value="renaissance">Renaissance</option>
                    <option value="age-of-exploration">Age of Exploration</option>
                    <option value="industrial-age">Industrial Age</option>
                    <option value="information-age">Information Age</option>
                    <option value="paleozoic-era">Paleozoic Era</option>
                    <option value="mesozoic-era">Mesozoic Era</option>
                    <option value="cenozoic-era">Cenozoic Era</option>
                    <option value="jurassic-period">Jurassic Period</option>
                    <option value="cretaceous-period">Cretaceous Period</option>
                    <option value="pleistocene-epoch">Pleistocene Epoch</option>
                    <option value="holocene-epoch">Holocene Epoch</option>
                    <option value="other">Other</option>
                </select><br>
                <label for="smell">Smell:</label>
                <select id="smell" name="smell">
                    <option value="woody">woody</option>
                    <option value="fragrant">fragrant</option>
                    <option value="fruity">fruity</option>
                    <option value="minty">minty</option>
                    <option value="sweet">sweet</option>
                    <option value="popcorn">popcorn</option>
                    <option value="lemon">lemon</option>
                    <option value="chemical">chemical</option>
                    <option value="pungent">pungent</option>
                    <option value="decayed">decayed</option>
                    <option value="none">none</option>
                    <option value="other">Other</option>
                </select><br>
                <label for="taste">Taste:</label>
                <select id="taste" name="taste">
                    <option value="sweet">sweet</option>
                    <option value="sour">sour</option>
                    <option value="bitter">bitter</option>
                    <option value="salty">salty</option>
                    <option value="umami">umami</option>
                    <option value="savory">savory</option>
                    <option value="other">Other</option>
                </select><br>
                <label for="texture">Texture:</label>
                <select id="texture" name="texture">
                    <option value="smooth">smooth</option>
                    <option value="rough">rough</option>
                    <option value="slimy">slimy</option>
                    <option value="grainy">Grainy</option>
                    <option value="slippery">Slippery</option>
                    <option value="matte">Matte</option>
                    <option value="glossy">Glossy</option>
                    <option value="bumpy">Bumpy</option>
                    <option value="gritty">Gritty</option>
                    <option value="velvety">Velvety</option>
                    <option value="fuzzy">Fuzzy</option>
                    <option value="silky">Silky</option>
                    <option value="coarse">Coarse</option>
                    <option value="pebbled">Pebbled</option>
                    <option value="polished">Polished</option>
                    <option value="woven">Woven</option>
                    <option value="hairy">Hairy</option>
                    <option value="sticky">Sticky</option>
                    <option value="spongy">Spongy</option>
                    <option value="crispy">Crispy</option>
                    <option value="wrinkled">Wrinkled</option>
                    <option value="slick">Slick</option>
                    <option value="pitted">Pitted</option>
                    <option value="corrugated">Corrugated</option>

                    <option value="other">Other</option>
                </select><br>
                <label for="value">Value:</label>
                <select id="value" name="value">
                    <option value="low">low</option>
                    <option value="medium">Medium</option>
                    <option value="high">high</option>
                    <option value="luxury">luxury</option>
                    <option value="fragile">Fragile</option>
                    <option value="durable">Durable</option>
                    <option value="lightweight">Lightweight</option>
                    <option value="heavy">Heavy</option>
                    <option value="expensive">Expensive</option>
                    <option value="affordable">Affordable</option>
                    <option value="luxurious">Luxurious</option>
                    <option value="eco-friendly">Eco-Friendly</option>
                    <option value="recyclable">Recyclable</option>
                    <option value="disposable">Disposable</option>
                    <option value="handcrafted">Handcrafted</option>
                    <option value="mass-produced">Mass-Produced</option>
                    <option value="versatile">Versatile</option>
                    <option value="customizable">Customizable</option>
                    <option value="limited-edition">Limited Edition</option>
                    <option value="unique">Unique</option>
                    <option value="high-quality">High-Quality</option>
                    <option value="low-quality">Low-Quality</option>
                    <option value="rare">Rare</option>
                    <option value="common">Common</option>
                    <option value="portable">Portable</option>
                    <option value="compact">Compact</option>
                    <option value="ergonomic">Ergonomic</option>
                    <option value="innovative">Innovative</option>
                    <option value="traditional">Traditional</option>
                    <option value="other">Other</option>
                </select><br>
                <label>Tags</label>
                <input type="text" id="tag-search" placeholder="Search for tags...">
                <ul id="tag-results" style="list-style: none;"></ul>
                <div id="selected-tags">
                    <h6>Selected Tags:</h6>
                </div>
                <input type="hidden" name="tags" id="tags-input">
                <button class="btn btn-register" type="submit">Post</button>
            </form>
        </div>
    </div>
</div>
<script>
    document.getElementById('tag-search').addEventListener('input', function () {
        const query = this.value;
        if (query.length < 2) return;

        fetch(`/search_wikidata/?query=${query}`)
            .then(response => response.json())
            .then(data => {
                const resultsContainer = document.getElementById('tag-results');
                resultsContainer.innerHTML = '';

                data.results.forEach(item => {
                    const li = document.createElement('li');
                    li.textContent = `${item.label} (${item.description || 'No description'})`;
                    li.dataset.id = item.id;
                    li.dataset.label = item.label;

                    li.addEventListener('click', function () {
                        const tagContainer = document.getElementById('selected-tags');
                        const selectedTag = document.createElement('div');
                        selectedTag.textContent = this.dataset.label;
                        tagContainer.appendChild(selectedTag);

                        const tagsInput = document.getElementById('tags-input');
                        tagsInput.value += this.dataset.label + ',';

                        resultsContainer.innerHTML = '';
                    });

                    resultsContainer.appendChild(li);
                });
            });
    });
</script>
{% endblock home_content %}